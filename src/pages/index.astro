---
  import { getCollection } from "astro:content";
  import Nav from "~/components/nav.astro";
  import { SITE_DESCRIPTION, SITE_TITLE } from "~/consts";
  import Layout from "~/layouts/base.astro";

  const posts = (await getCollection("blog")).sort(
    (a, b) => b.data.publication.valueOf() - a.data.publication.valueOf()
  );
---
<Layout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <section class="mx-auto max-w-4xl prose dark:prose-invert">
    <Nav/>

    <p>Hi! I am Samu, welcome to my blog.</p>

    <p>
      A random collection of pieces of code, random thoughts and notes I want to
      keep handy.
      <br>
      Maybe you find some interesting too.
    </p>

    <p>Enjoy!</p>

    <ul>
      {
        posts.map((post) => (
          <li>
            <a class='hover:text-gray-400' href={`/blog/${post.slug}/`} rel='prefetch'>
              <span>{post.data.title}</span>
            </a>
          </li>
        ))
    }
    </ul>
  </section>
</Layout>
